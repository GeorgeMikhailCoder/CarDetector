# CarDetector

##  Описание
Небольшой скрипт в матлаб для отслеживания движущихся объектов на видео. Предназначен для определения машин  с видео беспилотника. 

## Алгоритм
Алгоритм основан на анализе градиентного изображения. 

Полный алгоритм
1. Изображение в оттенки серого
2. Увеличиваем контраст
3. Находим градиент
4. Пороговая обработка
5. Эрозия
6. Каскады

Получаем центры ярких движущихся объектов.

7. Обединяем центры в машины (каждая машина имеет градиент спереди и сзади)
8. Объединяем центры с предыдущим кадром
9. Вычисляем скорость машины и расстояние до неё

  ## Установка
  Для запуска необходима среда Матлаб (желательно >=2017)  
  Запускать скрипт N1.m
  
  ## Скриншоты
  Пример работы:  
  ![Пример работы](/images/car.png)  
  Маркеры:  
  Синие - центры до объединения,   
  зелёный - предыдущее положение машины,   
  красный - текущее положение машины  
  
  Пример градиентного изображения  
  ![Пример градиентного изображения](/images/car2.png)  
  
  Пример градиентного изображения без предобработки  
  ![Пример градиентного изображения](/images/car3.png)
  ![Пример градиентного изображения](/images/car4.png)  
